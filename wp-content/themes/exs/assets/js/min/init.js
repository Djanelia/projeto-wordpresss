"use strict";!function(S,A,q){function r(e,t,s,o,a){t.classList.add(s),o.classList.add(a),e.setAttribute("aria-expanded","true"),e.classList.add(s),"search_toggle"===e.id&&q("search_dropdown").children[0].children[0].focus(),"message_top_toggle"!==e.id&&"message_bottom_toggle"!==e.id||(t=e.getAttribute("data-id"),(o=new Date).setTime(o.getTime()+31536e6),o="expires="+o.toUTCString(),S.cookie=t+"=1;"+o+";path=/",e.parentNode.remove())}function d(e,t,s,o,a){t.classList.remove(s),o.classList.remove(a),e.setAttribute("aria-expanded","false"),e.classList.remove(s)}function l(e,t){return-1!==e.className.indexOf(t)}function T(o,a,i,n,c){n.addEventListener("click",function(e){var t=q(a),s=q(o);t&&s&&(e.target.id!==a&&!e.target.closest("#"+a)||(l(s,i)?d:r)(t,s,i,n,c),l(s,i)&&e.target.id!==a&&e.target.closest("#"+a)!==t&&!e.target.closest("#"+o)&&d(t,s,i,n,c))}),"message_top_toggle"!==a&&"message_bottom_toggle"!==a&&A.addEventListener("scroll",function(e){var t=q(a),s=q(o);t&&s&&l(s,i)&&d(t,s,i,n,c)})}function D(){S.body.dispatchEvent(new Event("click"))}function O(e,t){e=e.offsetHeight;t.style.minHeight=e+"px"}function C(e){e.preventDefault(),e.stopPropagation()}S.addEventListener("DOMContentLoaded",function(l){var n=S.body,t=(T("nav_top","nav_toggle","active",n,"top-menu-active"),T("nav_side","nav_side_toggle","active",n,"side-menu-active"),T("search_dropdown","search_toggle","active",n,"search-dropdown-active"),T("topline_dropdown","topline_dropdown_toggle","active",n,"topline-dropdown-active"),T("dropdown-cart","dropdown-cart-toggle","active",n,"cart-dropdown-active"),T("message_top","message_top_toggle","active",n,"messagee-top-active"),T("message_bottom","message_bottom_toggle","active",n,"messagee-bottom-active"),T("sfix","sfix_toggle","active",n,"sfix-active"),q("search_modal_close")),s=q("search_toggle"),f=S.querySelector("#search_dropdown .search-field"),u=(t&&(t.onclick=function(e){s&&(D(),s.focus(),C(e))},t.onblur=function(e){f&&f.focus()}),q("logo")),o=q("nav_toggle"),a=q("nav_close"),g=S.querySelector(".top-menu li:first-child a, .top-menu li:first-child input"),v=S.querySelector(".top-menu>li:last-child>a, .top-menu>li.hidden:last-child a:last-child"),p=q("skip_link");a&&o&&o.addEventListener("click",function(e){setTimeout(function(){a.focus()},50)}),S.addEventListener("keydown",function(e){"Escape"===e.key&&D(),"Tab"===e.key&&e.shiftKey&&(e.target===a&&(v?(v.focus(),v.focus()):(D(),o&&o.focus()),C(e)),e.target===g&&a&&(a.focus(),C(e)),e.target===f&&t&&(t.focus(),C(e)),e.target===s&&(u.focus(),C(e)),e.target===o&&((s||u).focus(),C(e)),e.target===u&&p&&(p.focus(),C(e)))}),a&&(a.onblur=function(e){g&&g.focus()},a.addEventListener("click",function(e){D(),o&&o.focus()}));for(var m=S.querySelectorAll('a[href="#"]'),h=0;h<m.length;++h)m[h].addEventListener("click",function(e){e.preventDefault()});var e,i,L,_,b,c,r,w=q("header-affix-wrap");function x(t,e,s){s?t.classList.contains("affix")||(t.classList.remove("i"),e.forEach(function(e){t.classList.add(e)})):t.classList.contains("affix")&&(e.forEach(function(e){t.classList.remove(e)}),t.classList.add("i"))}if(w&&(e=q("header"),L=(i=e).offsetTop,k=i.id,_=S.getElementById("header-absolute-wrap"),b=i.getAttribute("data-bg"),c=[],(r="header"===k&&_&&b&&i.classList.contains("transparent"))&&(c=b.split(" ")),A.onscroll=function(e){A.pageYOffset>=L?i.classList.contains("affix")||(r&&x(i,c,!0),i.classList.add("affix")):i.classList.contains("affix")&&(r&&x(i,c,!1),i.classList.remove("affix")),0===A.pageYOffset&&i.classList.contains("affix")&&(r&&x(i,c,!1),i.classList.remove("affix")),this.oldScroll>this.scrollY?(i.classList.add("scrolling-up"),i.classList.remove("scrolling-down")):(i.classList.remove("scrolling-up"),i.classList.add("scrolling-down")),this.oldScroll=this.scrollY},setTimeout(function(){O(e,w)},200),A.addEventListener("resize",function(){setTimeout(function(){O(e,w)},200)})),"undefined"!=typeof Masonry&&"undefined"!=typeof imagesLoaded){var y=S.querySelectorAll(".masonry");if(y.length)for(var E=0;E<y.length;E++)imagesLoaded(y[E],function(e){new Masonry(e.elements[0],{itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0})})}var d=q("to-top"),k=(d&&(d.addEventListener("click",function(e){e.preventDefault(),A.scroll({top:0,left:0,behavior:"smooth"})}),A.addEventListener("scroll",function(e){60<A.pageYOffset?d.classList.add("visible"):d.classList.remove("visible")})),(d||w)&&A.dispatchEvent(new Event("scroll")),S.querySelectorAll(".exs-ajax-form"));k&&k.forEach(function(e,t){e.onsubmit=function(e){e.preventDefault();for(var o=e.target,e=o.querySelector(".exs-form-message"),a=(e&&e.remove(),o.querySelector("button")),t=(a&&(a.setAttribute("disabled","disabled"),a.classList.add("loading")),"nonce="+n.getAttribute("data-nonce")+"&action=exs_ajax_form"),s=0;s<o.length-1;s++)t+="&"+o[s].name+"="+o[s].placeholder+"|||"+o[s].value;var i=new XMLHttpRequest;i.onload=function(e){var t=JSON.parse(i.response),s=S.createElement("div");s.classList.add("exs-form-message"),s.appendChild(S.createTextNode(t.data.message)),o.appendChild(s),o.reset(),a.removeAttribute("disabled")},i.onerror=function(){console.error("error")},i.open("post",n.getAttribute("data-ajax")),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(t)}}),n.classList.add("dom-loaded")}),A.addEventListener("load",function(){S.body.classList.add("window-loaded");var e=q("preloader");e&&e.classList.add("loaded")})}(document,window,document.getElementById.bind(document));